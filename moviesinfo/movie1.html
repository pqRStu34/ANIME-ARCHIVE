<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Your Name.</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css" />
    <style>
        body {
            background: #191a23;
            color: #e3e6ee;
            font-family: 'Segoe UI', Arial, sans-serif;
        }

        .anime-card {
            background: #181b20;
            border-radius: 22px;
            box-shadow: 0 0 24px 2px #101214;
            max-width: 420px;
            margin: 2.5rem auto 2rem auto;
            padding: 2.2rem 1.5rem 1.5rem 1.5rem;
            position: relative;
            text-align: center;
        }

        .anime-year-badge {
            position: absolute;
            top: 2px;
            left: 50%;
            transform: translateX(-50%);
            background: #181b20cc;
            color: #ffb6d5;
            font-size: 0.92em;
            font-weight: 700;
            padding: 2px 12px;
            border-radius: 12px;
            z-index: 2;
            pointer-events: none;
            letter-spacing: 1px;
            box-shadow: 0 2px 8px #10121433;
        }

        .anime-poster {
            width: 180px;
            height: 260px;
            object-fit: cover;
            border-radius: 14px;
            margin-bottom: 1.2rem;
            box-shadow: 0 4px 16px #0008;
        }

        .anime-title {
            font-size: 2rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 0.7rem;
        }

        .anime-genres {
            margin-bottom: 1.1rem;
        }

        .genre-tag {
            display: inline-block;
            background: #282a3a;
            color: #b6f7ff;
            border-radius: 8px;
            font-size: 0.82em;
            padding: 0.13em 0.6em;
            margin: 0 0.13em 0.13em 0;
            border: 1px solid #3be3e3;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.18s, color 0.18s;
            text-decoration: none;
        }

        .genre-tag:hover {
            background: #209cee;
            color: #fff;
            border-color: #209cee;
            text-decoration: none;
        }

        .anime-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .anime-btn {
            flex: 1 1 0;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1.1em;
            padding: 0.7em 0;
            border: none;
            transition: background 0.18s;
        }

        .anime-btn.watch {
            background: #48c78e;
            color: #ffffff;
        }

        .anime-btn.watch:hover {
            background: #00d1b2;
            color: #122929;
        }

        .anime-section {
            background: #23243a;
            border-radius: 16px;
            box-shadow: 0 0 8px #209cee33;
            max-width: 420px;
            margin: 1.2rem auto 0 auto;
            padding: 1.3rem 1.2rem 1.1rem 1.2rem;
        }

        .anime-section h2 {
            font-size: 1.15rem;
            color: #ff6685;
            font-weight: 700;
            margin-bottom: 0.7rem;
        }

        .anime-section .meta-list {
            list-style: none;
            padding: 0;
            margin: 0 0 0.7rem 0;
        }

        .anime-section .meta-list li {
            margin-bottom: 0.3em;
            color: #bfc6d1;
            font-size: 1em;
        }

        .desc-card {
            max-width: 420px;
            margin: 1.5rem auto 0 auto;
            border-radius: 14px;
            padding: 1.2rem 1.1rem;
            background: #181b20;
            color: #e3e6ee;
            box-shadow: 0 0 8px #209cee33;
        }

        .desc-title {
            color: #abb1ba;
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 0.7em;
        }

        .desc-text {
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            line-clamp: 3;
            -webkit-box-orient: vertical;
            transition: all 0.2s;
        }

        .desc-text.expanded {
            overflow: visible;
            display: block;
            -webkit-line-clamp: unset;
            line-clamp: unset;
        }

        .show-more-btn {
            color: #ff6685;
            text-decoration: none;
            font-weight: bold;
            background: none;
            border: none;
            padding: 0;
            margin-top: 0.5em;
            cursor: pointer;
            font-size: 1em;
        }

        .site-note {
            color: #bfc6d1;
            font-size: 0.98em;
            margin-top: 1.2em;
            text-align: center;
        }

        .characters-section {
            max-width: 900px;
            margin: 2.5rem auto 1.5rem auto;
            background: #181b20;
            border-radius: 16px;
            box-shadow: 0 0 8px #209cee33;
            padding: 1.3rem 1.2rem 1.1rem 1.2rem;
        }

        .characters-title {
            color: #ff6685;
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 1.1rem;
            text-align: left;
        }

        .characters-list {
            display: flex;
            flex-direction: column;
            gap: 0.7rem;
            padding: 0;
        }

        .character-row {
            display: flex;
            align-items: center;
            background: transparent;
            border-radius: 16px;
            padding: 0.5rem 0.8rem;
            margin-bottom: 0.1rem;
            min-height: 56px;
        }

        .character-pic {
            width: 44px;
            height: 44px;
            object-fit: cover;
            border-radius: 50%;
            margin-right: 1rem;
            background: #181b20;
            border: 1.5px solid #ffb6d5;
            flex-shrink: 0;
            display: block;
        }

        .character-info {
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-width: 0;
            width: 100%;
        }

        .character-name {
            font-size: 1em;
            font-weight: 600;
            color: #fff;
            margin-bottom: 0.1em;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            width: 100%;
            max-width: 100vw;
            text-decoration: none !important;
            transition: color 0.18s;
        }

        .character-name:hover {
            text-decoration: none !important;
            color: #00d1b2 !important;
        }

        .character-role {
            font-size: 0.85em;
            color: #b6f7ff;
            background: #282a3a;
            border-radius: 7px;
            padding: 0.1em 0.7em;
            border: 1px solid #3be3e3;
            font-weight: 500;
            margin-top: 0.2em;
            display: inline-block;
            align-self: flex-start;
        }

        .character-role.supporting {
            color: #ffb70f !important;
        }
    </style>
</head>

<body>
    <div class="anime-card">
        <div class="anime-year-badge">2016</div>
        <img src="https://cdn.myanimelist.net/images/anime/1823/127994l.jpg" alt="Your Name." class="anime-poster" />
        <div class="anime-title">Your Name.</div>
        <div class="anime-genres">
            <span class="genre-tag" data-genre="Romance">Romance</span>
            <span class="genre-tag" data-genre="Drama">Drama</span>
            <span class="genre-tag" data-genre="Supernatural">Supernatural</span>
        </div>
        <div class="anime-actions">
            <button class="anime-btn watch" onclick="window.location.href='../player.html?movie=movies-json/movie1'">
                <i class="fas fa-play me-2"></i> Watch now
            </button>
        </div>
    </div>
    <div class="desc-card">
        <div class="desc-title">Overview</div>
        <div id="desc-text" class="desc-text">
            Mitsuha Miyamizu, a high school girl, yearns to live the life of a boy in the bustling city of Tokyo—a dream
            that stands in stark contrast to her present life in the countryside. Meanwhile in the city, Taki Tachibana
            lives a busy life as a high school student while juggling his part-time job and hopes for a future in
            architecture.

            One day, Mitsuha awakens in a room that is not her own and suddenly finds herself living the dream life in
            Tokyo—but in Taki's body! Elsewhere, Taki finds himself living Mitsuha's life in the humble countryside. In
            pursuit of an answer to this strange phenomenon, they begin to search for one another.

            Kimi no Na wa. revolves around Mitsuha and Taki's actions, which begin to have a dramatic impact on each
            other's lives, weaving them into a fabric held together by fate and circumstance.
        </div>
        <button id="show-more-btn" class="show-more-btn">Show more</button>
    </div>
    <div class="characters-section">
        <div class="characters-title">Characters</div>
        <div class="characters-list" id="characters-list">
            <!-- Characters will be loaded here dynamically -->
        </div>
    </div>
    <script>
        // Show more/less for description
        const descText = document.getElementById('desc-text');
        const showMoreBtn = document.getElementById('show-more-btn');
        let expanded = false;
        showMoreBtn.addEventListener('click', function () {
            expanded = !expanded;
            if (expanded) {
                descText.classList.add('expanded');
                showMoreBtn.textContent = 'Show less';
            } else {
                descText.classList.remove('expanded');
                showMoreBtn.textContent = 'Show more';
            }
        });
        // Genre tag click handler
        document.querySelectorAll(".genre-tag").forEach((tag) => {
            tag.addEventListener("click", function () {
                const genre = this.getAttribute("data-genre");
                if (genre) {
                    window.location.href = `/index.html?genre=${encodeURIComponent(genre)}`;
                }
            });
        });

        // Dynamically load characters (compact row style)
        const characters = [
            {
                name: 'Mitsuha Miyamizu',
                img: 'https://cdn.myanimelist.net/images/characters/9/322358.jpg',
                role: 'Main',
                mal: 'https://myanimelist.net/character/137467/Mitsuha_Miyamizu'
            },
            {
                name: 'Taki Tachibana',
                img: 'https://cdn.myanimelist.net/images/characters/2/322365.jpg',
                role: 'Main',
                mal: 'https://myanimelist.net/character/136805/Taki_Tachibana'
            },
            {
                name: 'Katsuhiko Teshigawara',
                img: 'https://cdn.myanimelist.net/images/characters/14/310189.jpg',
                role: 'Supporting',
                mal: 'https://myanimelist.net/character/128173/Katsuhiko_Teshigawara'
            },
            {
                name: 'Sayaka Miyamizu',
                img: 'https://cdn.myanimelist.net/images/characters/7/310190.jpg',
                role: 'Supporting',
                mal: 'https://myanimelist.net/character/128174/Sayaka_Miyamizu'
            },
            {
                name: 'Tsukasa Fujii',
                img: 'https://cdn.myanimelist.net/images/characters/10/310191.jpg',
                role: 'Supporting',
                mal: 'https://myanimelist.net/character/128175/Tsukasa_Fujii'
            },
            {
                name: 'Yotsuha Miyamizu',
                img: 'https://cdn.myanimelist.net/images/characters/13/310192.jpg',
                role: 'Supporting',
                mal: 'https://myanimelist.net/character/128176/Yotsuha_Miyamizu'
            },
            {
                name: 'Hitoha Miyamizu',
                img: 'https://cdn.myanimelist.net/images/characters/6/310193.jpg',
                role: 'Supporting',
                mal: 'https://myanimelist.net/character/128177/Hitoha_Miyamizu'
            },
            {
                name: 'Toshiki Miyamizu',
                img: 'https://cdn.myanimelist.net/images/characters/3/310194.jpg',
                role: 'Supporting',
                mal: 'https://myanimelist.net/character/128178/Toshiki_Miyamizu'
            }
        ];
        const charactersList = document.getElementById('characters-list');
        let showAll = false;
        function renderCharacters() {
            charactersList.innerHTML = '';
            const toShow = showAll ? characters : characters.slice(0, 5);
            toShow.forEach(character => {
                const row = document.createElement('div');
                row.className = 'character-row';
                row.innerHTML = `
                    <img src="${character.img}" alt="${character.name}" class="character-pic" />
                    <div class="character-info">
                        <a href="${character.mal}" class="character-name" target="_blank" rel="noopener noreferrer">${character.name}</a>
                        <span class="character-role${character.role === 'Supporting' ? ' supporting' : ''}">${character.role}</span>
                    </div>
                `;
                charactersList.appendChild(row);
            });
            // Show more/less button
            let showMoreBtn = document.getElementById('show-more-characters-btn');
            if (characters.length > 5) {
                if (!showMoreBtn) {
                    showMoreBtn = document.createElement('button');
                    showMoreBtn.id = 'show-more-characters-btn';
                    showMoreBtn.className = 'show-more-btn';
                    showMoreBtn.style.display = 'block';
                    showMoreBtn.style.margin = '0.7em auto 0 auto';
                    charactersList.parentNode.appendChild(showMoreBtn);
                }
                showMoreBtn.textContent = showAll ? 'Show less' : 'Show more';
                showMoreBtn.onclick = function () {
                    showAll = !showAll;
                    renderCharacters();
                };
            }
        }
        renderCharacters();
    </script>
</body>

</html>