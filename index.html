<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description"
    content="Watch your favorite anime online for free. Subbed and Dubbed anime streaming with no registration." />
  <link rel="icon" type="image/png" href="weblogo.png" />
  <title>Anime Streaming Testsite</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    body {
      background: #14161a !important;
    }

    .navbar.custom-navbar {
      background-color: #00d1b2 !important;
    }

    .navbar.custom-navbar .navbar-brand,
    .navbar.custom-navbar .navbar-nav .nav-link,
    .navbar.custom-navbar .navbar-toggler,
    .navbar.custom-navbar .fa,
    .navbar.custom-navbar .fas,
    .navbar.custom-navbar .fa-solid,
    .navbar.custom-navbar .fa-2x {
      color: #14161a !important;
    }

    .navbar.custom-navbar .navbar-toggler-icon {
      background-image: none !important;
      border: none !important;
      width: 1.5em;
      height: 1.5em;
      position: relative;
    }

    .navbar.custom-navbar .navbar-toggler-icon::before,
    .navbar.custom-navbar .navbar-toggler-icon::after,
    .navbar.custom-navbar .navbar-toggler-icon span {
      content: '';
      display: block;
      height: 3px;
      width: 100%;
      background: #14161a;
      margin: 0.3em 0;
      border-radius: 2px;
      transition: none;
    }

    .navbar.custom-navbar .navbar-toggler-icon span {
      margin: 0.3em 0;
    }

    .navbar.custom-navbar .navbar-toggler:focus,
    .navbar.custom-navbar .navbar-toggler:active {
      outline: none;
      box-shadow: none;
      background: none;
    }

    .series-card {
      padding: 0;
      margin: 0 auto;
      box-shadow: none;
      background: none;
      border-radius: 0;
      width: auto;
      height: auto;
      min-width: unset;
      max-width: unset;
      min-height: unset;
      max-height: unset;
      overflow: visible;
      position: relative;
      display: inline-block;
      border: none !important;
      transition: none;
      box-shadow: none;
      transform: none;
      z-index: 1;
    }

    /* Remove hover and blur effects */

    .series-card.active {
      /* No pop effect */
      transform: none;
      box-shadow: none;
      z-index: 1;
    }

    .series-card:hover {
      /* No hover effect */
      transform: none;
      box-shadow: none;
    }

    .series-grid.card-hover-blur .series-card:not(.active),
    .series-grid.card-hover-blur .series-card.active {
      filter: none;
      transition: none;
    }

    .search-result {
      background: rgba(245, 245, 245, 0.85) !important;
      border: none !important;
    }

    .series-card .card-image figure.image {
      height: 200px;
      width: 140px;
      border: 2.5px solid #abb1bf;
      box-sizing: border-box;
      border-radius: 12px;
      overflow: hidden;
      position: relative;
      margin: 0;
      background: none;
    }

    .series-card .series-title-hover {
      display: none;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 19, 16, 0.547);
      color: #fff;
      font-size: 0.65em;
      font-weight: 600;
      padding: 0.7em 0.2em;
      text-align: center;
      border-bottom-left-radius: 10px;
      border-bottom-right-radius: 10px;
      z-index: 3;
      pointer-events: none;
    }

    .series-card:hover .series-title-hover {
      display: block;
    }

    .series-grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      grid-auto-rows: min-content;
      gap: 14px;
      justify-items: center;
      min-width: 900px;
      overflow-x: auto;
      max-width: 100%;
    }

    @media (max-width: 900px) {
      .series-grid {
        grid-template-columns: repeat(3, 1fr);
        min-width: 420px;
      }
    }

    @media (max-width: 600px) {
      .series-grid {
        grid-template-columns: repeat(2, 1fr);
        min-width: 260px;
      }
    }

    .footer {
      background: #16181d !important;
    }

    .neon-text,
    .footer .neon-icon {
      color: #e3e6ee !important;
    }

    .footer .disclaimer-text {
      color: #b0b3bb !important;
    }

    .search-result {
      background: rgba(245, 245, 245, 0.85) !important;
    }

    .neon-input {
      background: #1f2229 !important;
      color: #fff !important;
      box-shadow: none !important;
      border: none !important;
      border-right: none !important;
      transition: none;
    }

    .input-group-text {
      background: #1f2229 !important;
      border: none !important;
      border-left: none !important;
      color: #425277 !important;
    }

    .neon-input:focus,
    .neon-input:hover {
      border-color: #86b7fe !important;
      box-shadow: none !important;
      color: #fff !important;
    }

    .dropdown-menu .dropdown-item:hover,
    .dropdown-menu .dropdown-item:focus {
      background: rgba(255, 255, 255, 0.12) !important;
      color: #fff !important;
    }

    .series-card .card-image,
    .series-card .card-image figure.image,
    .series-card .img-skeleton {
      background: #14161a !important;
    }

    /* Add/override for search prediction dropdown */
    #search-predictions {
      background: #1f2229 !important;
      color: #fff !important;
      border-radius: 0.5rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.18);
      border: 1px solid #425277;
      overflow: hidden;
      padding: 0.25rem 0.5rem;
      margin-top: 0.4rem;
      margin-left: 0.2rem;
      margin-right: 0.2rem;
      min-width: 220px;
      max-width: 100vw;
    }

    @media (max-width: 600px) {
      #search-predictions {
        left: 8px !important;
        right: 8px !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
        width: auto !important;
        max-width: calc(100vw - 16px) !important;
      }
    }

    .prediction-item {
      background: #1f2229 !important;
      color: #fff !important;
      border-bottom: 1px solid #23262c;
      transition: background 0.15s;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }

    .prediction-item:last-child {
      border-bottom: none;
    }

    .prediction-item.active,
    .prediction-item:hover {
      background: #23262c !important;
      color: #fff !important;
    }

    /* Pagination dark theme */
    .pagination {
      --bs-pagination-bg: #1f2229;
      --bs-pagination-border-color: #425277;
      --bs-pagination-color: #fff;
      --bs-pagination-hover-bg: #23262c;
      --bs-pagination-hover-color: #00d1b2;
      --bs-pagination-active-bg: #00d1b2;
      --bs-pagination-active-border-color: #00d1b2;
      --bs-pagination-active-color: #14161a;
      --bs-pagination-disabled-bg: #23262c;
      --bs-pagination-disabled-color: #888;
      --bs-pagination-focus-box-shadow: none;
    }

    .pagination .page-link {
      background: var(--bs-pagination-bg) !important;
      color: var(--bs-pagination-color) !important;
      border: 1px solid var(--bs-pagination-border-color) !important;
      border-radius: 0.4rem !important;
      margin: 0 2px;
      transition: background 0.15s, color 0.15s;
    }

    .pagination .page-link:hover {
      background: var(--bs-pagination-hover-bg) !important;
      color: var(--bs-pagination-hover-color) !important;
    }

    .pagination .page-item.active .page-link {
      background: var(--bs-pagination-active-bg) !important;
      color: var(--bs-pagination-active-color) !important;
      border-color: var(--bs-pagination-active-border-color) !important;
    }

    .pagination .page-item.disabled .page-link {
      background: var(--bs-pagination-disabled-bg) !important;
      color: var(--bs-pagination-disabled-color) !important;
      border-color: var(--bs-pagination-border-color) !important;
    }

    /* Loader card style */
    #series-loader {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 200px;
      width: 140px;
      margin: 0 auto 24px auto;
      border-radius: 12px;
      background: #23262c;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.12);
      border: 2.5px solid #abb1bf;
    }

    .loader-spinner {
      border: 6px solid #e3e6ee;
      border-top: 6px solid #00d1b2;
      border-radius: 50%;
      width: 48px;
      height: 48px;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    /* Skeleton card loader */
    .skeleton-card {
      height: 200px;
      width: 140px;
      border-radius: 12px;
      background: #23262c;
      border: 2.5px solid #abb1bf;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-end;
      position: relative;
      overflow: hidden;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.12);
      animation: skeleton-pulse 2.2s infinite ease-in-out;
    }

    .skeleton-thumb {
      width: 80%;
      height: 70%;
      background: #2e313a;
      border-radius: 10px;
      margin: 18px auto 8px auto;
      animation: skeleton-pulse 2.2s infinite ease-in-out;
    }

    .skeleton-title {
      width: 60%;
      height: 18px;
      background: #2e313a;
      border-radius: 6px;
      margin: 0 auto 18px auto;
      animation: skeleton-pulse 2.2s infinite ease-in-out;
    }

    @keyframes skeleton-pulse {
      0% {
        opacity: 1;
      }

      50% {
        opacity: 0.5;
      }

      100% {
        opacity: 1;
      }
    }

    /* Overlay to block right-click and code inspection */
    .anti-inspect-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 99999;
      background: rgba(0, 0, 0, 0.01);
      /* nearly transparent */
      pointer-events: auto;
      user-select: none;
    }

    body.anti-inspect {
      overflow: hidden !important;
    }
  </style>
</head>

<body>
  <div id="main-content">
    <nav class="navbar custom-navbar navbar-expand-lg sticky-top shadow-sm rounded-3 mt-3 mx-2"
      style="border-radius: 1rem !important;">
      <div class="container-fluid">
        <a class="navbar-brand d-flex align-items-center" href="/accounts.html">
          <span class="icon is-medium">
            <i class="fa-solid fas fa-2x fa-circle-user"></i>
          </span>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu"
          aria-controls="navbarMenu" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"><span></span></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarMenu">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item"><a class="nav-link" href="series.html">Series</a></li>
            <li class="nav-item"><a class="nav-link" href="movies.html">Movies</a></li>
            <li class="nav-item"><a class="nav-link" href="genres.html">Genres</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <section class="py-5">
      <div class="container">
        <div class="row justify-content-center mb-4">
          <div class="col-12 col-md-8 col-lg-5 d-flex align-items-center">
            <div class="input-group flex-grow-1">
              <span class="input-group-text"><i class="fas fa-search"></i></span>
              <input id="series-search" class="form-control neon-input border-start-0" type="text"
                placeholder="Search series..." />
            </div>
            <div class="ms-2 dropdown">
              <button class="btn btn-sm" id="sortDropdownBtn" type="button" data-bs-toggle="dropdown"
                aria-expanded="false" style="background:#1f2229; color:#fff; border:2px solid #425277;">
                <i class="fas fa-sort-alpha-down"></i>
              </button>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="sortDropdownBtn"
                style="background:#1f2229; color:#fff; min-width: 140px;">
                <li><a class="dropdown-item sort-option text-white" href="#" data-sort="newest">Newest</a></li>
                <li><a class="dropdown-item sort-option text-white" href="#" data-sort="oldest">Oldest</a></li>
                <li><a class="dropdown-item sort-option text-white" href="#" data-sort="updated">Latest Updated</a>
                </li>
                <li>
                  <hr class="dropdown-divider" style="border-color:#425277;">
                </li>
                <li><a class="dropdown-item sort-option text-white" href="#" data-sort="az">A to Z</a></li>
                <li><a class="dropdown-item sort-option text-white" href="#" data-sort="za">Z to A</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div id="search-predictions" class="neon-predictions position-absolute w-100"
          style="display: none; max-width: 400px; left: 0; right: 0; margin: 0 auto; z-index: 10;"></div>
        <!-- Skeleton cards will be injected here by JS while loading -->
        <div id="series-grid" class="series-grid">
          <!-- Cards will be injected here by JS -->
        </div>
        <nav id="pagination-nav" aria-label="Series pagination" class="d-flex justify-content-center mt-4"></nav>
      </div>
    </section>
    <footer class="footer neon-footer mt-4" style="border-top: none !important;">
      <div class="container">
        <div class="content text-center py-4">
          <div class="mb-2">
            <a href="https://x.com/pqRStu34" target="_blank" class="neon-icon me-3" title="X (Twitter)">
              <i class="fa-brands fa-x-twitter fa-2x"></i>
            </a>
            <a href="https://t.me/+BLX8lxcyiixjYmE9" target="_blank" class="neon-icon" title="Telegram">
              <i class="fa-brands fa-telegram fa-2x"></i>
            </a>
          </div>
          <p class="neon-text" style="font-size: 1.1rem">
            Anime Streaming Testsite &copy; 2024<br />
            <span style="font-size: 0.95em">Watch anime in HD, subbed & dubbed, no registration required.</span>
          </p>
          <div class="disclaimer-text" style="margin-top: 1.5em; font-size: 0.78em; font-style: italic;">
            <strong>Disclaimer:</strong> This website is a personal project for sharing purposes only. It does not use
            any paid tools, paid plans, or even a custom domain. All assets and resources used here are free for
            public use. No content is promoted or monetized, and no copyright infringement is intended. Due to
            limited resources, high traffic may cause the site to crash. This site is not affiliated with or
            endorsed by any anime studios or licensors.
          </div>
        </div>
      </div>
    </footer>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Simple navbar toggle
    document.addEventListener("DOMContentLoaded", () => {
      const navbarBurgers = Array.from(
        document.querySelectorAll(".navbar-burger")
      );
      navbarBurgers.forEach((el) => {
        el.addEventListener("click", () => {
          const target = el.dataset.target;
          const $target = document.getElementById(target);
          el.classList.toggle("is-active");
          $target.classList.toggle("is-active");
        });
      });

      // --- Skeleton loader logic ---
      const grid = document.getElementById("series-grid");
      const searchBar = document.getElementById("series-search").parentElement.parentElement;
      // Show skeletons initially
      function showSkeletonCards(count) {
        grid.innerHTML = '';
        for (let i = 0; i < count; i++) {
          const skeleton = document.createElement('div');
          skeleton.className = 'skeleton-card';
          skeleton.innerHTML = '<div class="skeleton-thumb"></div><div class="skeleton-title"></div>';
          grid.appendChild(skeleton);
        }
        grid.style.display = '';
      }
      showSkeletonCards(12); // Show 12 skeletons for initial load
      let allSeries = [];
      // Fetch both series and movies, then merge
      Promise.all([
        fetch("serieslist.json").then(res => res.json()),
        fetch("movieslist.json").then(res => res.json()).catch(() => [])
      ]).then(([seriesList, moviesList]) => {
        // Add a type property for clarity if missing
        seriesList = (seriesList || []).map(s => ({ ...s, type: s.type || 'series' }));
        moviesList = (moviesList || []).map(m => ({ ...m, type: m.type || 'movie' }));
        allSeries = [...seriesList, ...moviesList];
        // Immediately render real cards after data loads
        updateGridAndPagination();
      }).catch(() => {
        grid.innerHTML = '<div class="has-text-centered has-text-danger">Could not load series or movies list.</div>';
      });

      // --- Search, Sort, Pagination, and Prediction Logic ---
      const searchInput = document.getElementById("series-search");
      const sortDropdownBtn = document.getElementById("sortDropdownBtn");
      const sortOptions = document.querySelectorAll(".sort-option");
      const predictionsBox = document.getElementById("search-predictions");
      const paginationNav = document.getElementById("pagination-nav");

      let filteredSeries = [];
      let currentPage = 1;
      let pageSize = 12;
      let currentSort = "az";
      let searchTerm = "";
      let predictionIndex = -1;

      // --- Pagination persistence ---
      const PAGINATION_KEY = "anime-archive-current-page";
      function saveCurrentPage(page) {
        try {
          localStorage.setItem(PAGINATION_KEY, String(page));
        } catch (e) { }
      }
      function loadCurrentPage() {
        try {
          const val = localStorage.getItem(PAGINATION_KEY);
          return val ? parseInt(val) : 1;
        } catch (e) { return 1; }
      }
      currentPage = loadCurrentPage();

      function debounce(fn, delay) {
        let timer;
        return function (...args) {
          clearTimeout(timer);
          timer = setTimeout(() => fn.apply(this, args), delay);
        };
      }

      function sortSeries(list, sortType) {
        const arr = [...list];
        switch (sortType) {
          case "az":
            arr.sort((a, b) => a.title.localeCompare(b.title));
            break;
          case "za":
            arr.sort((a, b) => b.title.localeCompare(a.title));
            break;
          case "newest":
            arr.sort((a, b) => (b.year || 0) - (a.year || 0));
            break;
          case "oldest":
            arr.sort((a, b) => (a.year || 0) - (b.year || 0));
            break;
          case "updated":
            arr.sort((a, b) => (b.updated || 0) - (a.updated || 0));
            break;
          default:
            break;
        }
        return arr;
      }

      function paginate(list, page, size) {
        const start = (page - 1) * size;
        return list.slice(start, start + size);
      }

      function renderSeriesGrid(seriesList) {
        grid.innerHTML = "";
        if (!seriesList.length) {
          grid.innerHTML = '<div class="text-center text-danger w-100">No series found.</div>';
          grid.classList.remove('card-hover-blur');
          return;
        }
        seriesList.forEach((series) => {
          const card = document.createElement("div");
          card.className = "card series-card search-result";
          card.innerHTML = `
      <div class="card-image" style="height: 140px; position:relative;">
        <a href="${series.infoPage}" style="display:block; height:100%; width:100%; position:relative;">
          <figure class="image is-4by5" style="height: 100%; width: 100%; position:relative;">
            <span class="img-skeleton is-skeleton" style="position:absolute;top:0;left:0;width:100%;height:100%;"></span>
            <img src="${series.poster}" alt="${series.title}" style="object-fit:cover; height:100%; width:100%; display:none; border-radius:10px; overflow:hidden;">
            <div style="position:absolute;top:0;left:0;width:100%;text-align:center;z-index:3;">
              <span style="display:inline-block;background:rgba(0,0,0,0.45);color:#fff;font-weight:700;padding:2px 10px;border-radius:6px;font-size:0.7em;margin-top:4px;box-shadow:0 2px 8px rgba(0,0,0,0.10);">${series.year || ''}</span>
            </div>
            <div class="series-title-hover">${series.title}</div>
          </figure>
        </a>
      </div>
    `;
          const img = card.querySelector("img");
          const skeleton = card.querySelector(".img-skeleton");
          img.addEventListener("load", () => {
            skeleton.style.display = "none";
            img.style.display = "";
          });
          img.addEventListener("error", () => {
            skeleton.style.display = "none";
            img.style.display = "";
            img.src = "https://bulma.io/images/placeholders/480x640.png";
          });
          grid.appendChild(card);
        });
      }

      function renderPagination(total, page, size) {
        const pageCount = Math.ceil(total / size);
        if (pageCount <= 1) {
          paginationNav.innerHTML = "";
          return;
        }
        let html = `<ul class="pagination">`;
        html += `<li class="page-item${page === 1 ? ' disabled' : ''}"><a class="page-link" href="#" data-page="${page - 1}">&laquo;</a></li>`;
        for (let i = 1; i <= pageCount; i++) {
          html += `<li class="page-item${i === page ? ' active' : ''}"><a class="page-link" href="#" data-page="${i}">${i}</a></li>`;
        }
        html += `<li class="page-item${page === pageCount ? ' disabled' : ''}"><a class="page-link" href="#" data-page="${page + 1}">&raquo;</a></li>`;
        html += `</ul>`;
        paginationNav.innerHTML = html;
      }

      function updateGridAndPagination() {
        let list = filteredSeries.length ? filteredSeries : allSeries;
        list = sortSeries(list, currentSort);
        const paged = paginate(list, currentPage, pageSize);
        renderSeriesGrid(paged);
        renderPagination(list.length, currentPage, pageSize);
        saveCurrentPage(currentPage);
      }

      function updatePredictions(val) {
        if (!val) {
          predictionsBox.style.display = "none";
          predictionsBox.innerHTML = "";
          predictionIndex = -1;
          return;
        }
        const matches = allSeries.filter((s) => s.title.toLowerCase().includes(val));
        if (matches.length) {
          predictionsBox.innerHTML = matches
            .slice(0, 8)
            .map(
              (s, i) =>
                `<div class="prediction-item px-3 py-2${i === predictionIndex ? ' active' : ''}" data-index="${i}" style="cursor:pointer;">${s.title}</div>`
            )
            .join("");
          predictionsBox.style.display = "block";
        } else {
          predictionsBox.innerHTML = '<div class="prediction-item px-3 py-2">No matches found</div>';
          predictionsBox.style.display = "block";
        }
      }

      const handleSearchInput = debounce(function (e) {
        searchTerm = searchInput.value.trim().toLowerCase();
        predictionIndex = -1;
        if (!searchTerm) {
          filteredSeries = [];
          predictionsBox.style.display = "none";
          currentPage = 1;
          updateGridAndPagination();
          return;
        }
        filteredSeries = allSeries.filter((s) => s.title.toLowerCase().includes(searchTerm));
        currentPage = 1;
        updateGridAndPagination();
        updatePredictions(searchTerm);
      }, 200);

      searchInput.addEventListener("input", handleSearchInput);

      searchInput.addEventListener("keydown", function (e) {
        const items = Array.from(predictionsBox.querySelectorAll(".prediction-item"));
        if (!items.length || predictionsBox.style.display === "none") return;
        if (e.key === "ArrowDown") {
          e.preventDefault();
          predictionIndex = (predictionIndex + 1) % items.length;
          updatePredictions(searchInput.value.trim().toLowerCase());
        } else if (e.key === "ArrowUp") {
          e.preventDefault();
          predictionIndex = (predictionIndex - 1 + items.length) % items.length;
          updatePredictions(searchInput.value.trim().toLowerCase());
        } else if (e.key === "Enter") {
          e.preventDefault();
          if (predictionIndex >= 0 && predictionIndex < items.length) {
            const text = items[predictionIndex].textContent;
            searchInput.value = text;
            searchTerm = text.toLowerCase();
            filteredSeries = allSeries.filter((s) => s.title.toLowerCase() === searchTerm);
            currentPage = 1;
            updateGridAndPagination();
            predictionsBox.style.display = "none";
          }
        } else if (e.key === "Escape") {
          predictionsBox.style.display = "none";
          predictionIndex = -1;
        }
      });

      predictionsBox.addEventListener("mousedown", function (e) {
        if (e.target.classList.contains("prediction-item")) {
          const text = e.target.textContent;
          searchInput.value = text;
          searchTerm = text.toLowerCase();
          filteredSeries = allSeries.filter((s) => s.title.toLowerCase() === searchTerm);
          currentPage = 1;
          updateGridAndPagination();
          predictionsBox.style.display = "none";
        }
      });

      searchInput.addEventListener("blur", () => setTimeout(() => (predictionsBox.style.display = "none"), 150));
      searchInput.addEventListener("focus", function () {
        if (this.value.trim()) {
          predictionIndex = -1;
          updatePredictions(this.value.trim().toLowerCase());
        }
      });

      paginationNav.addEventListener("click", function (e) {
        if (e.target.classList.contains("page-link")) {
          e.preventDefault();
          const page = parseInt(e.target.getAttribute("data-page"));
          if (!isNaN(page)) {
            currentPage = page;
            updateGridAndPagination();
          }
        }
      });

      sortOptions.forEach((opt) => {
        opt.addEventListener("click", function (e) {
          e.preventDefault();
          currentSort = this.getAttribute("data-sort");
          updateGridAndPagination();
        });
      });

      // Add anti-inspect overlay and disable right-click/long-press
      function addAntiInspectOverlay() {
        if (document.getElementById('anti-inspect-overlay')) return;
        const overlay = document.createElement('div');
        overlay.className = 'anti-inspect-overlay';
        overlay.id = 'anti-inspect-overlay';
        document.body.appendChild(overlay);
        document.body.classList.add('anti-inspect');
        // Prevent context menu
        overlay.addEventListener('contextmenu', e => e.preventDefault());
        overlay.addEventListener('mousedown', e => e.preventDefault());
        overlay.addEventListener('touchstart', e => e.preventDefault(), { passive: false });
        overlay.addEventListener('selectstart', e => e.preventDefault());
        overlay.addEventListener('pointerdown', e => e.preventDefault());
        // Prevent context menu on document as fallback
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('selectstart', e => e.preventDefault());
        document.addEventListener('touchstart', e => e.preventDefault(), { passive: false });
      }
      document.addEventListener('DOMContentLoaded', addAntiInspectOverlay);
    });
  </script>
</body>

</html>